
<div id="profilePlotContainer">
    <mat-card class="visualsCard">

        <div *ngIf="dataForVisuals?.job" style="margin-bottom: 24px;">
            <h2 style=" margin-bottom: 10px;">Job info</h2>
            <div id="jobInfoCont">
                <span><b>Job name:</b> {{ dataForVisuals?.job?.job_name  || 'NA' }}</span>
                <span><b>Submitted at:</b> {{ dataForVisuals?.job?.date || 'NA' }}</span>
                <span><b>Transcript id:</b> {{ dataForVisuals?.job?.ssRNA_id  || 'NA' }}</span>
            </div>
            <hr style="margin-top: 20px; margin-bottom: 24px;"/>
        </div>

        <div *ngIf="loading" class="spinnerDiv">
            <mat-spinner></mat-spinner>
        </div>
        
        <div *ngIf="!loading" id="visualsDiv">
            <p>Max stability threshold</p>
            <mat-slider
                *ngIf="!loading"
                    id="minStabilitySlider"
                    [max]="maxAvailableStability"
                    min="0"
                    step="0.1"
                    discrete="false"
                    [matTooltip]="'Threshold: ' + minStability">
                    <input  matSliderThumb [(ngModel)]="minStability" (change)="updateProfilePlot()" >
                </mat-slider>

                <button type="button" mat-raised-button (click)="addDbdMode()" style=" min-width: 340px;">
                    Add BDBs
                </button>
                <p *ngFor="let dbd of selectedDBDs">
                    {{dbd}}
                </p>
            <div class="containsPlot" [ngClass]="{'withTransparency' : updating}" 
            id="uniquePlotDiv" [ngStyle]="{height: height + 'px'}"></div>
        </div>
</mat-card>
</div>
